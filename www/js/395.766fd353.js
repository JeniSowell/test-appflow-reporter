"use strict";(self["webpackChunkreporter"]=self["webpackChunkreporter"]||[]).push([[395],{71395:(t,e,s)=>{s.r(e),s.d(e,{default:()=>f});var i=s(83673),a=s(62323);const c=["onClick"],r={class:"col-xs-2 col-sm-3 col-md-4 col-lg-5"},o=["src"],l={class:"col-xs-10 col-sm-9 col-md-8 col-lg-7 q-pl-sm"},u={class:"uppercase"},d={class:"q-caption"},n=(0,i._)("br",null,null,-1);function h(t,e,s,h,p,g){const m=(0,i.up)("q-btn"),y=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(y,{class:"q-px-md"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.audits,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i._)("div",{class:"row q-py-md",onClick:t=>g.openAudit(e)},[(0,i._)("div",r,[((0,i.wg)(),(0,i.j4)(m,{round:"",color:"primary",size:"15px",key:"btn"+e.id,class:"float-right"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:g.auditCategory(e).img?"data:"+g.auditCategory(e).img:e.checklist.category.img,style:{"max-height":"25px"}},null,8,o)])),_:2},1024))]),(0,i._)("div",l,[(0,i._)("span",u,(0,a.zw)(e.checklist.name),1),(0,i._)("span",d,[n,(0,i._)("i",null,"Avant le "+(0,a.zw)(t.$helpers.stringToDate(e.dueAt)),1)])])],8,c)])))),128))])),_:1})}var p=s(93617);const g={data(){return{audits:[]}},mounted(){this.setAudits()},computed:{...(0,p.Se)({categories:"company/categories",reducedAudits:"audits/byPlace",auditsInOtherScopes:"audits/auditsInOtherScopes"})},methods:{setAudits(){"myScope"===this.$route.query.tab?this.audits=this.reducedAudits(this.$route.params.placeId):this.audits=this.auditsInOtherScopes,0===this.audits.length?this.$router.go(-1):this.$emit("title",this.audits[0].place.name)},auditCategory:function(t){let e={name:"",id:"",img:""};return this.categories.length&&this.categories.forEach((s=>{let i=s.childs.filter((e=>e.id===t.checklist.category.id));i.length&&(e=i[0])})),e},openAudit(t){const e=`/zones/${t.place.zone.id}/places/${t.place.id}/audits/${t.id}?tab=${this.$route.query.tab?this.$route.query.tab:"myScope"}`;this.$router.push(e),"other"===this.$route.query.tab&&this.$emit("title",t.checklist.name)}}};var m=s(74260),y=s(24379),$=s(48240),k=s(7518),b=s.n(k);const w=(0,m.Z)(g,[["render",h]]),f=w;b()(g,"components",{QPage:y.Z,QBtn:$.Z})}}]);